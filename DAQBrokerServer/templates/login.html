<html>
	<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Login</title>
	</head>
		<link rel="stylesheet" href="{{url_for('static', filename='css/iThing.css')}}" type="text/css" />

		<!-- Buttons CSS -->
		<link rel="stylesheet" href="{{url_for('static', filename='css/gh-buttons.css')}}" type="text/css" media="screen" />
		<!-- Insert jQuery libraries -->
		<script src="{{url_for('static', filename='js/jquery/jquery-3.3.1.min.js')}}"></script>
		<script src="{{url_for('static', filename='js/jqueryUI/jquery-ui.min.js')}}"></script>
		<!-- Insert jQuery data table libraries-->
		<link rel="stylesheet" type="text/css" href="{{url_for('static', filename='js/dataTables/datatables.css')}}"/>
		<script type="text/javascript" src="{{url_for('static', filename='js/dataTables/datatables.js')}}"></script>
		<!-- Insert Tooltipster libraries -->
		<link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/tooltipster.css')}}" />
		<script type="text/javascript" src="{{url_for('static', filename='js/tooltipster/jquery.tooltipster.min.js')}}"></script>
		<!-- Insert colorbox library (lightbox) -->
		<link rel="stylesheet" href="{{url_for('static', filename='js/colorbox/colorbox.css')}}">
		<script src="{{url_for('static', filename='js/colorbox/jquery.colorbox-min.js')}}"></script>
		<!-- Insert user-made javascript libraries -->
		<script src="{{url_for('static', filename='instruments/database.js',version='12052017')}}?q=1280549780"></script>
		<script src="{{url_for('static', filename='instruments/instruments.js',version='12052017')}}?q=1280549780"></script>
		<script src="{{url_for('static', filename='js/globals.js')}}"></script>
		<!-- Insert date picker libraries -->
		<script type="text/javascript" src="{{url_for('static', filename='js/dateRangePicker/moment.min.js')}}"></script>
		<link rel="stylesheet" type="text/css" href="{{url_for('static', filename='js/dateRangePicker/bootstrap.css')}}" />
		<script type="text/javascript" src="{{url_for('static', filename='js/dateRangePicker/daterangepicker.js')}}"></script>
		<link rel="stylesheet" type="text/css" href="{{url_for('static', filename='js/dateRangePicker/daterangepicker.css')}}" />
		<!-- Insert flatpickr libraries -->
		<link rel="stylesheet" href="{{url_for('static', filename='js/flatpickr/dist/flatpickr.min.css')}}">
		<script src="{{url_for('static', filename='js/flatpickr/dist/flatpickr.js')}}"></script>
		<!-- Insert moment libraries -->
		<script type="text/javascript" src="{{url_for('static', filename='js/dateRangePicker/moment.min.js')}}"></script>
		<!-- Insert navigation menu libraries -->
		<!--<link rel="stylesheet" href="{{url_for('static', filename='js/slimmenu/slimmenu.min.css')}}" type="text/css">
		<script src="{{url_for('static', filename='js/slimmenu/jquery.slimmenu.min.js')}}"></script>-->
		<link rel="stylesheet" href="{{url_for('static', filename='js/hiraku/src/hiraku.css')}}" type="text/css">
		<script src="{{url_for('static', filename='js/hiraku/src/hiraku.js')}}"></script>
		<!-- Insert alphanumeric libraries -->
		<script type="text/javascript" src="{{url_for('static', filename='js/jquery.alphanum.js')}}"></script>
		<!-- Insert global css-->
		<link rel="stylesheet" href="{{url_for('static', filename='css/regularCSS.css')}}" type="text/css">
		<!--<script type="text/javascript" src="imports/uiFuncs.js"></script>-->
		<link rel="stylesheet" href="{{url_for('static', filename='css/hamburgers/hamburgers.css')}}" type="text/css" media="screen" />
		<!-- jQquery confirm library-->
		<link rel="stylesheet" href="{{url_for('static', filename='js/confirm/jquery-confirm.min.css')}}">
		<script src="{{url_for('static', filename='js/confirm/jquery-confirm.min.js')}}"></script>
		<!-- Snackbar libraries -->
		<link href="{{url_for('static', filename='js/noty/lib/noty.css')}}" rel="stylesheet">
		<script src="{{url_for('static', filename='js/noty/lib/noty.js')}}" type="text/javascript"></script>
	<body>
	<style>

	</style>
	<div class="thebody">
	{% include 'menus.html' %}<!-- USE THE menus.html file to import the menus -->
	<div id="main" style="width:100%;display:grid;grid-template-columns:minmax(50px,10%) auto minmax(50px,10%);grid-template-rows:minmax(80px,5%) 92.5% minmax(55px,5%);overflow:hidden;align-items: center;">
		<div class="headerMenu" style="background-color:#333;width:100%;display:table;grid-row:1 / span 2;grid-column: 1 / 3;">
			<div style="width:50%;display:table-cell;text-align:left;padding-left:10px;"><a class="homeIcon" style="cursor:pointer"><img src="/static/hamburger.svg" width="22px" height="22px"></img>  DAQBroker</a><a style="font-size:15px">   Login</a></div>
			<div style="width:50%;display:table-cell;text-align:right;padding-right:10px;"> <a class="hamburger" style="cursor:pointer"><img src="/static/settings2.png" width="25px" height="25px"></img></a></div>
		</div>
		<!--display: flex;align-items: center;justify-content: center;-->
		<!--style="text-align:center;margin:auto;padding-top:20%;padding-bottom:25%;max-width:20%"-->
		<div class="container" hidden style="grid-row:2 / span 1;grid-column: 2 /span 1;margin:auto;">
			<div class="container-inner" style="text-align:center;margin:auto;width:100%">
				<div class="infoMsgs" style="text-align:left">
					{% with messages = get_flashed_messages() %}
						{% if messages %}
							{% for message in messages %}
								{{ message }}
							{% endfor %}
						{% endif %}
					{% endwith %}
				</div>
				<form name="thisIsIdiotic" method="POST" action="{{url_for('login')}}" style="max-width:50%;font-size:20px;text-align:left">
				Server<br>
				<select  style="width:160%" class="serverSelect" name="serverSelect"><option selected disabled hidden>--- CHOOSE ONE ---</option><optgroup class="local" label="Servers in memory"><option class="empty" disabled>NONE</option></optgroup><optgroup class="newone" label="New server"><option value="-1">New Server</option></optgroup></select><br>
				<div class="newServer" hidden></div>
				<p><hr style="width:25%"></p>
				User<br> <input type="text" name="user"></input><br>
				Password<br> <input type="password" name="pass"></input><br>
				<input class="sessionToken" type="hidden" value="{{ csrf_token() }}"></input>
				<!--<p><button id="button" type="submit" name="submit" value="Log-In">Log-in</button></p>-->
				</form> 
			</div>
		</div>
		<div class="thefooter" style="width:100%;grid-row:3 / span 1;grid-column: 1 / 4;">
			<span id="year"></span> &copy; <a style="color:white" href="http://daqbroker.com">daqbroker.com</a>
		</div>
	</div>
	<script>
		$('#year').append(new Date().getFullYear());
		var fontBig=30;
		var fontRegular=20;
		var thisIsLogin=true;
		$('.legend').css({
			'font-size':fontBig+'px'
		});
		
		$(document).ready( function() {
			var messagesClasses=[];
			$.confirm({
				title    :  'DAQBroker',
				content  :  $('.container-inner').html(),
				buttons:{
					formSubmit: {
						text: 'Login',
						btnClass: 'btn-blue',
						keys: ['enter'],
						action: function () {
							this.$content.find('form').submit();
						}
					}
				},
				onContentReady: function(data, status, xhr){
					console.log($('.infoMsgs').find('p'));
					$('.infoMsgs').find('p').each(function(){
						if($(this).prop('class') in messagesClasses){
							$(this).remove();
						}
						else{
							messagesClasses.push($(this).prop('class'));
						}
					});
					var theMainCntent=this.$content;
					this.$content.find('input , select').on('keypress', function (e) {
						var key = e.which || e.keyCode;
						if (key === 13) { // 13 is enter
							theMainCntent.find('form').submit();
						}
					});
				},
			});
		});
		
	</script>
	</body>
</html>