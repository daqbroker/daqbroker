

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>API Calls Reference &mdash; DAQBroker 0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Interface Reference" href="webapi3.html" />
    <link rel="prev" title="Usage Examples" href="webapi1.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> DAQBroker
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation and Deployment</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="webapi.html">Web Application</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="webapi1.html">Usage Examples</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">API Calls Reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#general-purpose-actions">General purpose actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#instrument-actions">Instrument actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data-actions">Data actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#experimental-run-actions">Experimental run actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#network-actions">Network actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#administrator-actions">Administrator actions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="webapi3.html">Interface Reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="server.html">Persistent monitoring applications</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">DAQBroker</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="webapi.html">Web Application</a> &raquo;</li>
        
      <li>API Calls Reference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/webapi2.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="api-calls-reference">
<h1>API Calls Reference<a class="headerlink" href="#api-calls-reference" title="Permalink to this headline">¶</a></h1>
<p>This section contains the main HTTP commands available to DAQBroker client. These commands are used in the <span class="xref std std-ref">javascript</span> functions and can also be used for other third-party client applications to interact with a machine running the DAQBroker server application</p>
<div class="section" id="general-purpose-actions">
<h2>General purpose actions<a class="headerlink" href="#general-purpose-actions" title="Permalink to this headline">¶</a></h2>
<p>This section contains general purpose requests</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="45%" />
<col width="35%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Resource</th>
<th class="head">Operation</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Create links</td>
<td><a class="reference external" href="#post--daqbroker-genLink">POST /daqbroker/genLink</a></td>
<td>Generate a shareable link</td>
</tr>
<tr class="row-odd"><td>Get DAQBroker processes</td>
<td><a class="reference external" href="#post--daqbroker-checkProcesses">POST /daqbroker/checkProcesses</a></td>
<td>Get currently working DAQBroker subprocesses</td>
</tr>
<tr class="row-even"><td>Get DAQBroker settings</td>
<td><a class="reference external" href="#post--daqbroker-discoverSettings">POST /daqbroker/discoverSettings</a></td>
<td>Get global DAQBroker settings</td>
</tr>
<tr class="row-odd"><td>Get backup files</td>
<td><a class="reference external" href="#post--daqbroker-multipleFileDownload">POST /daqbroker/multipleFileDownload</a></td>
<td>Get a specific file from a directory in the DAQBroker backup directory</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference external" href="#get--daqbroker-downloads-(path-filename)">GET /daqbroker/downloads/(path:filename)</a></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference external" href="#get--daqbroker-temp-(path-filename)">GET /daqbroker/temp/(path:filename)</a></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>Get current user</td>
<td><a class="reference external" href="#post--daqbroker-getCurrentUser">POST /daqbroker/getCurrentUser</a></td>
<td>Get currently logged in user in the current used server</td>
</tr>
<tr class="row-odd"><td>Get database servers</td>
<td><a class="reference external" href="#post--daqbroker-getLocalServers">POST /daqbroker/getLocalServers</a></td>
<td>Get list of database servers to which the machine has made contact</td>
</tr>
<tr class="row-even"><td>Get link info</td>
<td><a class="reference external" href="#post--daqbroker-getLink">POST /daqbroker/getLink</a></td>
<td>Get shared info from provided link</td>
</tr>
<tr class="row-odd"><td>Get logged events</td>
<td><a class="reference external" href="#post--daqbroker-getLog">POST /daqbroker/getLog</a></td>
<td>Get logged events within time frame</td>
</tr>
<tr class="row-even"><td>Get/Set collection</td>
<td><a class="reference external" href="#post--daqbroker-collections">POST /daqbroker/collections</a></td>
<td>Get/Set data channel collections</td>
</tr>
<tr class="row-odd"><td>List available client binaries</td>
<td><a class="reference external" href="#post--daqbroker-serveDists">POST /daqbroker/serveDists</a></td>
<td>Get list provided DAQBroker client application binaries</td>
</tr>
<tr class="row-even"><td>List databases</td>
<td><a class="reference external" href="#post--daqbroker-checkDatabases">POST /daqbroker/checkDatabases</a></td>
<td>List server DAQBroker databases</td>
</tr>
<tr class="row-odd"><td>Test administrator credentials</td>
<td><a class="reference external" href="#post--daqbroker-queryAdmin">POST /daqbroker/queryAdmin</a></td>
<td>Test a connected user for administrator privileges</td>
</tr>
<tr class="row-even"><td>Test expression</td>
<td><a class="reference external" href="#post--daqbroker-checkExpression">POST /daqbroker/checkExpression</a></td>
<td>Test validity of expression</td>
</tr>
</tbody>
</table>
<dl class="post">
<dt id="post--daqbroker-multipleFileDownload">
<code class="descname">POST </code><code class="descname">/daqbroker/multipleFileDownload</code><a class="headerlink" href="#post--daqbroker-multipleFileDownload" title="Permalink to this definition">¶</a></dt>
<dd><p>Request to access multiple files in the backup directory</p>
</dd></dl>

<dl class="post">
<dt id="post--daqbroker-discoverSettings">
<code class="descname">POST </code><code class="descname">/daqbroker/discoverSettings</code><a class="headerlink" href="#post--daqbroker-discoverSettings" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether a global settings database exists on supplied database server</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSON encoded list of session server objects with the following keys:</p>
<div class="last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">currentServer</span></code> : (String) server address</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">currentEngine</span></code> : (String) server database SQL engine</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">settingsExist</span></code> : (Boolean) global settings database exists. Should only return False if a user has logged in for the first time to the engine</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">monActive</span></code> : (Boolean) returns True if a server monitoring process is currently underway</div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--daqbroker-checkExpression">
<code class="descname">POST </code><code class="descname">/daqbroker/checkExpression</code><a class="headerlink" href="#post--daqbroker-checkExpression" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the validity of a data manipulation expression</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body">expression: (String) A string containing properly formatted python code; limitations exist. Refer to PLACEHOLDER for data manipulation options</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">JSON encoded list of unique channel identifiers</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--daqbroker-getLocalServers">
<code class="descname">POST </code><code class="descname">/daqbroker/getLocalServers</code><a class="headerlink" href="#post--daqbroker-getLocalServers" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of all available database servers to which users have already connected to</p>
</dd></dl>

<dl class="post">
<dt id="post--daqbroker-checkProcesses">
<code class="descname">POST </code><code class="descname">/daqbroker/checkProcesses</code><a class="headerlink" href="#post--daqbroker-checkProcesses" title="Permalink to this definition">¶</a></dt>
<dd><p>Request to check the status of existing database processes. This list of processes is stored in memory. Should be used in conjunction with <em>actProcess</em></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSON encoded string containing a list of working DAQBroker subprocesses. Each element of that list will be an object containing the following keys:</p>
<div class="last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">name</span></code> : Name of the process</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">pid</span></code> : PID of the process on the server machine</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">description</span></code> : Small description of the purpose of the process</div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--daqbroker-getCurrentUser">
<code class="descname">POST </code><code class="descname">/daqbroker/getCurrentUser</code><a class="headerlink" href="#post--daqbroker-getCurrentUser" title="Permalink to this definition">¶</a></dt>
<dd><p>Request the current user and its type</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSON encoded string of currently connected server:</p>
<div class="last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">username</span></code> : Name of the user</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">type</span></code> : type of user</div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--daqbroker-checkDatabases">
<code class="descname">POST </code><code class="descname">/daqbroker/checkDatabases</code><a class="headerlink" href="#post--daqbroker-checkDatabases" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of existing DAQBRoker databases in a supplied database engine</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSON list of database objects. A database object has the following attributes</p>
<div class="last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">dbname</span></code> : (String) name of the database</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">active</span></code> : (Boolean) database flagged for instrument monitoring</div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--daqbroker-collections">
<code class="descname">POST </code><code class="descname">/daqbroker/collections</code><a class="headerlink" href="#post--daqbroker-collections" title="Permalink to this definition">¶</a></dt>
<dd><p>Get or set the available data channel collections</p>
<p>:param Placeholder : Placeholder parameter, not implemented, will be used create new collections</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">If no parameter is supplied, a list of existing collections is presented. Each collection consists of an object with the following keys:</p>
<div class="last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Name</span></code> : string containing the address of the NTP server</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">channels</span></code> : JSON encoded string containing the channel ID of each channel in the collection</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">remarks</span></code> : further remarks regarding the collection (unused)</div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--daqbroker-queryAdmin">
<code class="descname">POST </code><code class="descname">/daqbroker/queryAdmin</code><a class="headerlink" href="#post--daqbroker-queryAdmin" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if the current loged user to the database and engine has DAQBroker administrator privileges</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSON encoded user object</p>
<div class="last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">username</span></code> : (String) unique user name</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">type</span></code> : (Integer) type of user. See PLACEOHOLDER for available types</div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--daqbroker-serveDists">
<code class="descname">POST </code><code class="descname">/daqbroker/serveDists</code><a class="headerlink" href="#post--daqbroker-serveDists" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides list of DAQBroker client application binary distributions - used for browser download</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">JSON encoded directory structure of the “dists” folder</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--daqbroker-genLink">
<code class="descname">POST </code><code class="descname">/daqbroker/genLink</code><a class="headerlink" href="#post--daqbroker-genLink" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a shareable link of a supplied interface state</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body">site : (String) endpoint name</td>
</tr>
<tr class="field-even field"><th class="field-name">Param:</th><td class="field-body">var : (String) JSON encoded state variable</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">(String ) unique shareable link</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--daqbroker-getLink">
<code class="descname">POST </code><code class="descname">/daqbroker/getLink</code><a class="headerlink" href="#post--daqbroker-getLink" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the entry associated with a supplied shareable link</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">link : (String) unique link</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Logical false if no link was found or timed out. JSON encoded link object with the following keys:</p>
<div class="last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">site</span></code> : (String) endpoint name</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">variable</span></code> : (String) JSON encoded state variable</div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--daqbroker-getLog">
<code class="descname">POST </code><code class="descname">/daqbroker/getLog</code><a class="headerlink" href="#post--daqbroker-getLog" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the entries of logged events between a specific time interval.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body">timeLogStart: (Integer) start timestamp</td>
</tr>
<tr class="field-even field"><th class="field-name">Param:</th><td class="field-body">timeLogEnd: (Integer) end timestamp</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of event entries (strings) inside the requested time interval</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="get">
<dt id="get--daqbroker-downloads-(path-filename)">
<code class="descname">GET </code><code class="descname">/daqbroker/downloads/</code><span class="sig-paren">(</span><em class="property">path: </em><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#get--daqbroker-downloads-(path-filename)" title="Permalink to this definition">¶</a></dt>
<dd><p>Request to access specific files in the backup directory</p>
</dd></dl>

<dl class="get">
<dt id="get--daqbroker-temp-(path-filename)">
<code class="descname">GET </code><code class="descname">/daqbroker/temp/</code><span class="sig-paren">(</span><em class="property">path: </em><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#get--daqbroker-temp-(path-filename)" title="Permalink to this definition">¶</a></dt>
<dd><p>Request to access specific files in the backup directory</p>
</dd></dl>

</div>
<div class="section" id="instrument-actions">
<h2>Instrument actions<a class="headerlink" href="#instrument-actions" title="Permalink to this headline">¶</a></h2>
<p>This section contains requests that interact with instruments</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="45%" />
<col width="35%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Resource</th>
<th class="head">Operation</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Add virtual log entry</td>
<td><a class="reference external" href="#post--instruments-insertLogComment">POST /instruments/insertLogComment</a></td>
<td>Add an entry to an instrument’s virtual log</td>
</tr>
<tr class="row-odd"><td>All Instrument Details</td>
<td><a class="reference external" href="#post--instruments-queryInstrumentsFull">POST /instruments/queryInstrumentsFull</a></td>
<td>Get full information from all database instruments</td>
</tr>
<tr class="row-even"><td>Alter instrument’s user</td>
<td><a class="reference external" href="#post--instruments-changeInstOp">POST /instruments/changeInstOp</a></td>
<td>Alter an instrument’s operator user</td>
</tr>
<tr class="row-odd"><td>Basic Instrument Details</td>
<td><a class="reference external" href="#post--instruments-queryInstruments">POST /instruments/queryInstruments</a></td>
<td>Get basic information from all database instruments</td>
</tr>
<tr class="row-even"><td>Create/Edit instrument</td>
<td><a class="reference external" href="#post--instruments-insertInstrument">POST /instruments/insertInstrument</a></td>
<td>Creates or edits a DAQBroker instrument instrument</td>
</tr>
<tr class="row-odd"><td>Delete data channel</td>
<td><a class="reference external" href="#post--instruments-deleteChannel">POST /instruments/deleteChannel</a></td>
<td>Deletes an instrument data channel and its data</td>
</tr>
<tr class="row-even"><td>Delete instrument</td>
<td><a class="reference external" href="#post--instruments-deleteInstrument">POST /instruments/deleteInstrument</a></td>
<td>Deletes an instrument and its data</td>
</tr>
<tr class="row-odd"><td>Edit data source</td>
<td><a class="reference external" href="#post--instruments-editParsing">POST /instruments/editParsing</a></td>
<td>Edit data source action information</td>
</tr>
<tr class="row-even"><td>Edit virtual log</td>
<td><a class="reference external" href="#post--instruments-editLogEntry">POST /instruments/editLogEntry</a></td>
<td>Edit entry of an instrument’s virtual log</td>
</tr>
<tr class="row-odd"><td>Get instrument files</td>
<td><a class="reference external" href="#post--instruments-listInstFiles">POST /instruments/listInstFiles</a></td>
<td>Get instrument’s stored data files</td>
</tr>
<tr class="row-even"><td>Get time limits</td>
<td><a class="reference external" href="#post--instruments-getInstLimits">POST /instruments/getInstLimits</a></td>
<td>Get database largest and shortest stored timestamp</td>
</tr>
<tr class="row-odd"><td>Instrument Details</td>
<td><a class="reference external" href="#post--instruments-queryInstDetails">POST /instruments/queryInstDetails</a></td>
<td>Get Full information from single instrument</td>
</tr>
<tr class="row-even"><td>Test credentials</td>
<td><a class="reference external" href="#post--instruments-queryInstCreds">POST /instruments/queryInstCreds</a></td>
<td>Test current credentials for instrument editing</td>
</tr>
<tr class="row-odd"><td>Toggle active state</td>
<td><a class="reference external" href="#post--instruments-setActiveInstrument">POST /instruments/setActiveInstrument</a></td>
<td>Toggles an instrument on or off to be monitored</td>
</tr>
</tbody>
</table>
<dl class="post">
<dt id="post--instruments-queryInstrumentsFull">
<code class="descname">POST </code><code class="descname">/instruments/queryInstrumentsFull</code><a class="headerlink" href="#post--instruments-queryInstrumentsFull" title="Permalink to this definition">¶</a></dt>
<dd><p>List of full instrument information in supplied database and engine</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A JSON encoded list of basic instrument information. see <code class="xref py py-func docutils literal notranslate"><span class="pre">queryInstDetails()</span></code> for single object</td>
</tr>
</tbody>
</table>
<p>description</p>
</dd></dl>

<dl class="post">
<dt id="post--instruments-setActiveInstrument">
<code class="descname">POST </code><code class="descname">/instruments/setActiveInstrument</code><a class="headerlink" href="#post--instruments-setActiveInstrument" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggles the current active monitoring state of an instrument</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body">instid : (Integer) unique instrument identifier. Used to edit an existing instrument</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">(Boolean) The resulting new monitoring state of the instrument</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--instruments-queryInstruments">
<code class="descname">POST </code><code class="descname">/instruments/queryInstruments</code><a class="headerlink" href="#post--instruments-queryInstruments" title="Permalink to this definition">¶</a></dt>
<dd><p>List basic instrument information in supplied database and engine</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A JSON encoded list containing basic information of each instrument in a database as an object with the</td>
</tr>
</tbody>
</table>
<p>following keys :</p>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Name</span></code> : String the unique name of the instrument</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">instid</span></code> : Integer containing a unique identifier of the instrument</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">active</span></code> : Boolean containing the monitoring state of the instrument</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">description</span></code> : String containing a description of the instrument, if supplied</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">username</span></code> : String containing the username associated with the instrument</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">email</span></code> : String containing the contact information (email, phone) of the person responsible of the</div>
</div>
<p>instrument, if supplied
| <code class="docutils literal notranslate"><span class="pre">insttype</span></code> : Integer containing the type of instrument (unused)
| <code class="docutils literal notranslate"><span class="pre">log</span></code> : JSON encoded string of entries in a virtual instrument log book</p>
</div></blockquote>
</dd></dl>

<dl class="post">
<dt id="post--instruments-queryInstDetails">
<code class="descname">POST </code><code class="descname">/instruments/queryInstDetails</code><a class="headerlink" href="#post--instruments-queryInstDetails" title="Permalink to this definition">¶</a></dt>
<dd><p>Get full instrument information on a specified instrument from a specified database</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">instid : (Integer) unique instrument identifier</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A JSON encoded object with full instrument information</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Name</span></code> : String the unique name of the instrument</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">instid</span></code> : Integer containing a unique identifier of the instrument</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">active</span></code> : Boolean containing the monitoring state of the instrument</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">description</span></code> : String containing a description of the instrument, if supplied</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">username</span></code> : String containing the username associated with the instrument</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">email</span></code> : String containing the contact information (email, phone) of the person responsible of the</div>
</div>
<p>instrument, if supplied
| <code class="docutils literal notranslate"><span class="pre">insttype</span></code> : Integer containing the type of instrument (unused)
| <code class="docutils literal notranslate"><span class="pre">log</span></code> : JSON encoded string of entries in a virtual instrument log book
| <code class="docutils literal notranslate"><span class="pre">files</span></code> : List of instrument data source objects and their status:</p>
<blockquote class="last">
<div><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">clock</span></code> : (Integer) timestamp of the last edit to the source information</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">name</span></code> : (String) name of the data source</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">metaid</span></code> : (Integer) unique instrument data source identifier</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">instid</span></code> : (Integer) unique instrument identifier</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">type</span></code> : (Integer) type of data source :</div>
</div>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">0</span></code> : file(s)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">1</span></code> : serial port</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">2</span></code> : network port</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">3</span></code> : user-supplied file</div>
</div>
</div></blockquote>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">node</span></code> : (String) unique ID of a machine running a DAQBroker client</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">remarks</span></code> : (String) JSON encoded object with information of the data source</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">sentRequest</span></code> : (Boolean) request is being processed by a client machine</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">lastAction</span></code> : (Integer) timestamp of last automated monitoring action on source</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">lasterrortime</span></code> : (Integer) last timestamp of error collection (unused)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">lasterror</span></code> : (String) last collected error (unused)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">lockSync</span></code> : (Boolean) data source is set to not backup data</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">channels</span></code> : (List) objects containing definition of a data source’s individual data channels:</div>
</div>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Name</span></code> : (String) data channel name</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">channelid</span></code> : (Integer) unique channel identifier</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">channeltype</span></code> : (Integer) channel type</div>
</div>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">0</span></code> : Number</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">1</span></code> : Text</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">2</span></code> : Custom</div>
</div>
</div></blockquote>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">valuetype</span></code> : (Integer) NASA processing level</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">units</span></code> : (String) physical units</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">instid</span></code> : (Integer) unique instrument identifier</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">description</span></code> : (String) channel description</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">active</span></code> : (Boolean) accessible for all users</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">remarks</span></code> : (String) JSON encoded extra information</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">metaid</span></code> : (Integer) unique instrument data source identifier</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">lastclock</span></code> : (Integer) latest stored timestamp</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">lastValue</span></code> : (Double) value at latest stored timestamp</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">fileorder</span></code> : (Integer) order on file (used for source type 0)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">alias</span></code> : (String) original name (kept when channel name changes)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">firstClock</span></code> : (Integer) lowest stored timestamp</div>
</div>
</div></blockquote>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">parsing</span></code> : (List) objects containing definition of a source’s status of data collection. Each
object contains the following keys</div>
</div>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">clock</span></code> : (Integer) entry creation timestamp</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">lastAction</span></code> : (Integer) latest action timestamp</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">metaid</span></code> : (Integer) unique instrument data source identifier</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">instid</span></code> : (Integer) unique instrument identifier</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">type</span></code> : (Integer) same as <code class="docutils literal notranslate"><span class="pre">files</span> <span class="pre">-</span> <span class="pre">type</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">locked</span></code> : (Boolean) automated parsing underway</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">forcelock</span></code> : (Boolean) parsing locked by user</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">remarks</span></code> : (Integer) extra information</div>
</div>
</div></blockquote>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--instruments-deleteInstrument">
<code class="descname">POST </code><code class="descname">/instruments/deleteInstrument</code><a class="headerlink" href="#post--instruments-deleteInstrument" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete an instrument and its data. Only instrument owners and instrument administrators are allowed to delete
instruments</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body">instid: (Integer) unique instrument identifier</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--instruments-insertInstrument">
<code class="descname">POST </code><code class="descname">/instruments/insertInstrument</code><a class="headerlink" href="#post--instruments-insertInstrument" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a new instrument or edit an existing instrument on a DAQBroker database. Guest users are not allowed to
create instruments. Created instruments are</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">Name : (String) unique instrument name</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Param:</th><td class="field-body"><p class="first">instid : (Integer) unique instrument identifier. Used to edit an existing instrument</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">description : (String) description of the instrument and its</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Param:</th><td class="field-body"><p class="first">email : (String) contact information for the instrument operator</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">Files : (Optional) JSON encoded list of instrument data source objects. Each Contains the following keys:</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">name</span></code> : (String) name of the data source</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">metaid</span></code> : (Integer) unique data source identifier. Only used to edit existing data sources</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">type</span></code> : (Integer) type of instrument data source</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">node</span></code> : (String) unique network node identifier</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">remarks</span></code> : (String) JSON encoded object of extra data source information</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">channels</span></code> : (Optional) JSON encoded list of data channel objects. Each contains the following keys:</div>
</div>
<blockquote class="last">
<div><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Name</span></code> : (String) data channel name</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">channelid</span></code> : (Integer) unique channel identifier. -1 if the channel is new. Positive integer</div>
</div>
<p>if the channel already exists
| <code class="docutils literal notranslate"><span class="pre">description</span></code> : (String) data channel description
| <code class="docutils literal notranslate"><span class="pre">units</span></code> : (String) data channel physical units
| <code class="docutils literal notranslate"><span class="pre">channeltype</span></code> : (Integer) type of data channel</p>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">0</span></code> : Number</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">1</span></code> : Text</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">2</span></code> : Custom</div>
</div>
</div></blockquote>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">active</span></code> : (Boolean) channel is shown on interface</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">fileorder</span></code> : (Integer) Used to order channels in a data source</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">alias</span></code> : (String) Original data channel name. Kept constant when name changes</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">remarks</span></code> : (String) JSON encoded object with extra information</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">oldname</span></code> : (String) Old channel name. Used to detect changes in the channel name</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">channeltypeOld</span></code> : (Integer) Old channel type. Used to detect changes in the channel type</div>
</div>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--instruments-insertLogComment">
<code class="descname">POST </code><code class="descname">/instruments/insertLogComment</code><a class="headerlink" href="#post--instruments-insertLogComment" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an entry into an instrument’s virtual log book</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">instid: (integer) unique instrument identifier</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Param:</th><td class="field-body"><p class="first">entry: object containing the following keys:</p>
<div class="last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">date</span></code> : (Integer) New entry timestamp (if same as <code class="docutils literal notranslate"><span class="pre">oldDAte</span></code> date doesn’t change)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">author</span></code> : (String) Entry author</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">entry</span></code> : (String) Entry text</div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--instruments-queryInstCreds">
<code class="descname">POST </code><code class="descname">/instruments/queryInstCreds</code><a class="headerlink" href="#post--instruments-queryInstCreds" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the provided credentials allow an instrument to be edited. Only the instrument creator and the system
administrators can edit instruments</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">instid: (Integer) unique instrument identifier</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A JSON encoded object with credential test results</p>
<div class="last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">username</span></code> : (String) current username</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">type</span></code> : (Integer) user type see PLACEHOLDER FOR AVAILABLE TYPES</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">error</span></code> : (Boolean) if instrument belongs to user or not</div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--instruments-deleteChannel">
<code class="descname">POST </code><code class="descname">/instruments/deleteChannel</code><a class="headerlink" href="#post--instruments-deleteChannel" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete an instrument’s data channel along with its data. Only instrument owners and system administrators can
delete data channels</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body">channelid: (Integer) unique instrument data channel identifier</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--instruments-getInstLimits">
<code class="descname">POST </code><code class="descname">/instruments/getInstLimits</code><a class="headerlink" href="#post--instruments-getInstLimits" title="Permalink to this definition">¶</a></dt>
<dd><p>Get largest and smallest stored time stamps</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSON encoded object with the following keys:</p>
<div class="last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">max</span></code> : (Integer) largest timestamp</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">min</span></code> : (Integer) smallest timestamp</div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--instruments-listInstFiles">
<code class="descname">POST </code><code class="descname">/instruments/listInstFiles</code><a class="headerlink" href="#post--instruments-listInstFiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Request to list an instrument’s current data file structure</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>instName</strong> – Name of the requested instrument</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">JSON encoded string containing the collected file structure of the requested instrument.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--instruments-editLogEntry">
<code class="descname">POST </code><code class="descname">/instruments/editLogEntry</code><a class="headerlink" href="#post--instruments-editLogEntry" title="Permalink to this definition">¶</a></dt>
<dd><p>Edit an entry from an instrument virtual log book</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">instid: (integer) unique instrument identifier</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Param:</th><td class="field-body"><p class="first">entry: object containing the following keys:</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">oldDate</span></code> : (Integer) original entry timestamp</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">date</span></code> : (Integer) New entry timestamp (if same as <code class="docutils literal notranslate"><span class="pre">oldDAte</span></code> date doesn’t change)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">author</span></code> : (String) Entry author</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">entry</span></code> : (String) Entry text</div>
</div>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">operation: (string) operation to be preformed in <strong>entry</strong></p>
<div class="last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">edit</span></code> : Edit entry</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">remove</span></code> : Remove entry</div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--instruments-changeInstOp">
<code class="descname">POST </code><code class="descname">/instruments/changeInstOp</code><a class="headerlink" href="#post--instruments-changeInstOp" title="Permalink to this definition">¶</a></dt>
<dd><p>Alter an existing instrument’s operator. This action can only be preformed by a system administrator</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body">newUsername : (String) new instrument username</td>
</tr>
<tr class="field-even field"><th class="field-name">Param:</th><td class="field-body">instid : (Integer) unique instrument identifier</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--instruments-editParsing">
<code class="descname">POST </code><code class="descname">/instruments/editParsing</code><a class="headerlink" href="#post--instruments-editParsing" title="Permalink to this definition">¶</a></dt>
<dd><p>Edit the existing parsing information of an instrument</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">instid: (integer) unique instrument identifier</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Param:</th><td class="field-body"><p class="first">metaid: (integer) unique instrument data source identifier</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">sourceResetTime: (integer) number of seconds to reset the parsing information</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Param:</th><td class="field-body"><p class="first">operation: (string) operation to be preformed</p>
<div class="last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">remove</span></code> : Remove data source and associated data</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">reset</span></code> : Reset processing information</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">lockP</span></code> : Toggle lock data storage methods</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">lockB</span></code> : Toggle lock file backup methods</div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="data-actions">
<h2>Data actions<a class="headerlink" href="#data-actions" title="Permalink to this headline">¶</a></h2>
<p>This section contains requests that collect data from instruments</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="45%" />
<col width="35%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Resource</th>
<th class="head">Operation</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Abort job</td>
<td><a class="reference external" href="#post--data-getDataAbort">POST /data/getDataAbort</a></td>
<td>Abort generic job</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference external" href="#get--data-getDataAbort">GET /data/getDataAbort</a></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>Abort jobs</td>
<td><a class="reference external" href="#post--data-getDataAbortStream">POST /data/getDataAbortStream</a></td>
<td>Abort running data collection jobs</td>
</tr>
<tr class="row-odd"><td>Abort single job</td>
<td><a class="reference external" href="#post--data-getDataAbortStreamRequest">POST /data/getDataAbortStreamRequest</a></td>
<td>Abort single running data collection jobs</td>
</tr>
<tr class="row-even"><td>Collect job data</td>
<td><a class="reference external" href="#post--data-getDataCheckStream">POST /data/getDataCheckStream</a></td>
<td>Collect data or running info from data collection jobs</td>
</tr>
<tr class="row-odd"><td>Create data collection jobs</td>
<td><a class="reference external" href="#post--data-getDataStream">POST /data/getDataStream</a></td>
<td>Create a set of possibly long running data collection jobs</td>
</tr>
<tr class="row-even"><td>Create/Edit visualizations</td>
<td><a class="reference external" href="#post--data-saveVisualization">POST /data/saveVisualization</a></td>
<td>Create or edit a visualization or a set of visualizations</td>
</tr>
<tr class="row-odd"><td>Gata job data</td>
<td><a class="reference external" href="#post--data-getDataCheck">POST /data/getDataCheck</a></td>
<td>Get data from a generic job</td>
</tr>
<tr class="row-even"><td>Get channel data</td>
<td><a class="reference external" href="#post--data-getData">POST /data/getData</a></td>
<td>Get data from specified channel</td>
</tr>
<tr class="row-odd"><td>Get expression data</td>
<td><a class="reference external" href="#post--data-getExpressionTrace">POST /data/getExpressionTrace</a></td>
<td>Get data from specified expression</td>
</tr>
<tr class="row-even"><td>Get layout list</td>
<td><a class="reference external" href="#post--data-getLayouts">POST /data/getLayouts</a></td>
<td>Get a list of saved sets of data visualizations</td>
</tr>
<tr class="row-odd"><td>Get plot comments</td>
<td><a class="reference external" href="#post--data-getPlotComments">POST /data/getPlotComments</a></td>
<td>Get list of comments associated with plot</td>
</tr>
<tr class="row-even"><td>Get visualization list</td>
<td><a class="reference external" href="#post--data-getPlots">POST /data/getPlots</a></td>
<td>Get a list of saved data visualizations</td>
</tr>
</tbody>
</table>
<dl class="post">
<dt id="post--data-getDataAbortStreamRequest">
<code class="descname">POST </code><code class="descname">/data/getDataAbortStreamRequest</code><a class="headerlink" href="#post--data-getDataAbortStreamRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Abort a single job. See ‘getDataStream’ for more information on generating a list jobs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body">jobs : JSON encoded list of unique job identifiers</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--data-getDataCheckStream">
<code class="descname">POST </code><code class="descname">/data/getDataCheckStream</code><a class="headerlink" href="#post--data-getDataCheckStream" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the data from provided list of existing jobs. See :py:meth:getDataStream for more information on generating a list jobs. Job results are stored in memory and the local database contains a reference to the memory position of that data if the job completed successfully</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">jobs : JSON encoded list of job objects, containing the following keys:</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">id</span></code> : (String) unique job identifier</div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A job result object containing the following keys</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">id</span></code> : (String) unique job identifier</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">type</span></code> : (String) job type. See :py:meth:getDataStream for more information</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">data</span></code> : (String) JSON encoded object of information data about the requested job</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">status</span></code> : (integer) Status of the requested job</div>
</div>
<blockquote class="last">
<div><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">0</span></code> : Job underway</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">1</span></code> : Job finished, no errors</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">-1</span></code> : Job finished, with errors</div>
</div>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--data-getDataAbortStream">
<code class="descname">POST </code><code class="descname">/data/getDataAbortStream</code><a class="headerlink" href="#post--data-getDataAbortStream" title="Permalink to this definition">¶</a></dt>
<dd><p>Abort a set of supplied jobs. See ‘getDataStream’ for more information on generating a list jobs. This request interrupts ongoing jobs, deletes local database records and deletes data in memory</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body">jobs : JSON encoded list of unique job identifiers</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--data-getExpressionTrace">
<code class="descname">POST </code><code class="descname">/data/getExpressionTrace</code><a class="headerlink" href="#post--data-getExpressionTrace" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect manipulated data from a supplied expression. The request can be asynchronous returning an ongoing job or sequential returning the full processed data. This request is tested with the flask is_xhr flag (DEPRECATED, NEED TO IMPROVE) to decide if the request is created as a long running job or a concurrent one. This test should decide if the request is being made from a command line or third-party program or if it is sent via an interface</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">startTime : (Integer) start timestamp</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Param:</th><td class="field-body"><p class="first">endTime :(Integer) end timestamp</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">screenSize : (Integer) size of display in pixels (used to decrease query load)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Param:</th><td class="field-body"><p class="first">fullResolution : (Boolean) if true, get all data regardless of <code class="docutils literal notranslate"><span class="pre">screenSize</span></code> value</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">expression : (Integer) unique data channel identifier</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSON encoded object with the requested data if <code class="docutils literal notranslate"><span class="pre">is_xhr=False</span></code>:</p>
<div class="last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">type</span></code> : type of data request. Should default to “expression”</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">data</span></code> : List of 2 element lists of [timestamp, value] inside the requested time range [<strong>startTime</strong>,**endTime**]</div>
</div>
</td>
</tr>
</tbody>
</table>
<p>JSON encoded job object if <code class="docutils literal notranslate"><span class="pre">is_xhr=True</span></code>:</p>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">id</span></code> : (String) unique job identifier</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">type</span></code> : (String) type of request. Should default to “expression”</div>
</div>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">data</span></code> : Single channel data</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">expression</span></code> : Data from expression</div>
</div>
</div></blockquote>
</div></blockquote>
</dd></dl>

<dl class="post">
<dt id="post--data-saveVisualization">
<code class="descname">POST </code><code class="descname">/data/saveVisualization</code><a class="headerlink" href="#post--data-saveVisualization" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a data visualization or a set of data visualizations</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">visionType : (Integer) Type of visualization</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">0</span></code> : Single data visualization</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">1</span></code> : Set of visualizations (layout)</div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Param:</th><td class="field-body"><p class="first">plotid : (Integer) unique identifier visualization. Used to edit visualizations. Only used if <strong>visionType=0</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">plotname : (String) unique visualization name. Only used if <strong>visionType=0</strong></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Param:</th><td class="field-body"><p class="first">plottype : (Integer) creation timestamp. See :py:meth:getLayouts for types. Only used if <strong>visionType=0</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">channelids : (String) JSON encoded list of data channels used. Only used if <strong>visionType=0</strong></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Param:</th><td class="field-body"><p class="first">remarks : (String) JSON encoded object of extra <strong>plottype</strong> information. Only used if <strong>visionType=0</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">layoutid : (Integer) unique identifier of created layout. Used to edit layouts. Only used if <strong>visionType=1</strong></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Param:</th><td class="field-body"><p class="first">layoutname : (String) unique layout name. Only used if <strong>visionType=1</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">plots : (String) JSON encoded list of unique plot identifiers on layout. Only used if <strong>visionType=1</strong></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Param:</th><td class="field-body"><p class="first">format : (String) JSON encoded object of layout information. Only used if <strong>visionType=1</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">If <strong>visionType=0</strong> returns the unique identifier of the added or altered visualization. IOf <strong>visionType=1</strong> returns the unique identifier of added or altered layout</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--data-getPlotComments">
<code class="descname">POST </code><code class="descname">/data/getPlotComments</code><a class="headerlink" href="#post--data-getPlotComments" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a list of comments associated with an existing data visualization</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">plotid : (Integer) unique plot identifier</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Param:</th><td class="field-body"><p class="first">chanelid : (Integer - optional) unique channel identifier</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSON encoded list of comment objects associated with the provided visualization. If the optional <strong>channelid</strong> parameter is provided, the search is limited to visualization comments specific to one data channel. A comment object contains the following keys:</p>
<div class="last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">clock</span></code> : (Integer) comment timestamp</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">plotid</span></code> : (Integer) unique visualization identifier</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">channelid</span></code> : (Integer) unique channel identifier</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">comment</span></code> : (String) comment</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">author</span></code> : (String) comment author</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">remarks</span></code> : (String) extra information (unused)</div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--data-getDataStream">
<code class="descname">POST </code><code class="descname">/data/getDataStream</code><a class="headerlink" href="#post--data-getDataStream" title="Permalink to this definition">¶</a></dt>
<dd><p>Start data collection job of a list of data channels</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">reqID : (String) Uniquely generated ID string to identify the requested jobs</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Param:</th><td class="field-body"><p class="first">jobRequests : JSON encoded list of request objects with the following keys:</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">startTime</span></code> : (Integer) start timestamp</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">endTime</span></code> : (Integer) end timestamp</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">type</span></code> : (String) type of request</div>
</div>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">data</span></code> : Single channel data</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">expression</span></code> : Data from expression</div>
</div>
</div></blockquote>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">screenSize</span></code> : (Integer) size of display in pixels (used to decrease query load)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">fullResolution</span></code> : (Boolean) if true, get all data regardless of <code class="docutils literal notranslate"><span class="pre">screenSize</span></code> value</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">channelid</span></code> : (Integer) unique data channel identifier (only used if <code class="docutils literal notranslate"><span class="pre">type=&quot;data&quot;</span></code>)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">expression</span></code> : (String) data manipulation expression (only used if <code class="docutils literal notranslate"><span class="pre">type=&quot;expression&quot;</span></code>)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">expressionName</span></code> : (String) expression name (only used if <code class="docutils literal notranslate"><span class="pre">type=&quot;expression&quot;</span></code>)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">expressionIdx</span></code> : (String) expression index in list of expressions (only used if <code class="docutils literal notranslate"><span class="pre">type=&quot;expression&quot;</span></code>)</div>
</div>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A JSON encoded list of an ongoing job objects with the following keys:</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">id</span></code> : (String) unique job identifier</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">channelid</span></code> : (Integer) unique channel identifier only returned if  (only used if <code class="docutils literal notranslate"><span class="pre">type=&quot;data&quot;</span></code>)</div>
</div>
<div class="last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">name</span></code> : (String) same as <code class="docutils literal notranslate"><span class="pre">expressionName</span></code> only returned if  (only used if <code class="docutils literal notranslate"><span class="pre">type=&quot;expression&quot;</span></code>)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">idx</span></code> : (String) same as <code class="docutils literal notranslate"><span class="pre">expressionIdx</span></code> only returned if  (only used if <code class="docutils literal notranslate"><span class="pre">type=&quot;expression&quot;</span></code>)</div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--data-getDataCheck">
<code class="descname">POST </code><code class="descname">/data/getDataCheck</code><a class="headerlink" href="#post--data-getDataCheck" title="Permalink to this definition">¶</a></dt>
<dd><p>Auxiliary request used to check collect generic information from a job</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id</strong> – (String) unique job identifier</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(String) JSON encoded string of the requested job’s information, check <code class="xref py py-func docutils literal notranslate"><span class="pre">getDataCheckStream()</span></code> to get a reference of the returned object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--data-getDataAbort">
<code class="descname">POST </code><code class="descname">/data/getDataAbort</code><a class="headerlink" href="#post--data-getDataAbort" title="Permalink to this definition">¶</a></dt>
<dd><p>Auxiliary request used to check abort a generic job</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>id</strong> – (String) unique job identifier</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="get">
<dt id="get--data-getDataAbort">
<code class="descname">GET </code><code class="descname">/data/getDataAbort</code><a class="headerlink" href="#get--data-getDataAbort" title="Permalink to this definition">¶</a></dt>
<dd><p>Auxiliary request used to check abort a generic job</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>id</strong> – (String) unique job identifier</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--data-getLayouts">
<code class="descname">POST </code><code class="descname">/data/getLayouts</code><a class="headerlink" href="#post--data-getLayouts" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of saved sets of data visualizations</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A JSON encoded list of sets of visualizations, called layouts. Each layout object contains the following keys:</p>
<div class="last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Name</span></code> : (String) unique layout name</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">layoutid</span></code> : (Integer) unique layout identifier</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">plots</span></code> : (String) JSON encoded list of visualization identifiers</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">format</span></code> : (String) JSON encoded format of layout</div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--data-getPlots">
<code class="descname">POST </code><code class="descname">/data/getPlots</code><a class="headerlink" href="#post--data-getPlots" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of saved data visualizations</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A JSON encoded list of visualizations. Each object contains the following keys:</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">plotname</span></code> : (String) unique visualization name</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">plotid</span></code> : (Integer) unique visualization identifier</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">channelids</span></code> : (String) JSON encoded list of data channel identifiers</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">plottype</span></code> : (Integer) type of plot</div>
</div>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">0</span></code> : Time series</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">1</span></code> : Time evolving historgram</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">2</span></code> : Histogram</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">3</span></code> : External</div>
</div>
</div></blockquote>
<div class="last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">adminPlot</span></code> : (Boolean) plot created by admin (unused)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">active</span></code> : (Boolean) active flag (unused)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">remarks</span></code> : (String) extra information for each <strong>plottype</strong></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--data-getData">
<code class="descname">POST </code><code class="descname">/data/getData</code><a class="headerlink" href="#post--data-getData" title="Permalink to this definition">¶</a></dt>
<dd><p>Get data from a supplied data channel. The request can be asynchronous, returning a job or it can be sequential, returning the requested data. This request is tested with the flask is_xhr flag (DEPRECATED, NEED TO IMPROVE) to decide if the request is created as a long running job or a concurrent one. This test should decide if the request is being made from a command line or third-party program or if it is sent via an interface</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">startTime : (Integer) start timestamp</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Param:</th><td class="field-body"><p class="first">endTime :(Integer) end timestamp</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">screenSize : (Integer) size of display in pixels (used to decrease query load)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Param:</th><td class="field-body"><p class="first">fullResolution : (Boolean) if true, get all data regardless of <code class="docutils literal notranslate"><span class="pre">screenSize</span></code> value</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">channelid : (Integer) unique data channel identifier</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSON encoded object with the requested data if <code class="docutils literal notranslate"><span class="pre">is_xhr=False</span></code>:</p>
<div class="last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">type</span></code> : (String) type of data requested, should default to “data”</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">closestClockDown</span></code> : (Ineger) closest time stamp to <strong>startTime</strong> , used for interpolation needs in case of empty ranges</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">closestClockUp</span></code> : (Ineger) closest time stamp to <strong>endTime</strong> , used for interpolation needs in case of empty ranges</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">closestValueDown</span></code> : (Double or String) closest time stamp to <strong>startTime</strong> , used for interpolation needs in case of empty ranges</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">closestValueUp</span></code> : (Double or String) closest time stamp to <strong>endTime</strong> , used for interpolation needs in case of empty ranges</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">min</span></code> : (Double or String) minimum value in range</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">max</span></code> : (Double or String) maximum value in range</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">mean</span></code> : (Double or String) mean of data range (only works on number channels)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">std</span></code> : (Double or String) standard deviation of data range</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">minTime</span></code> : (Double) minimum timestamp in range</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">maxTime</span></code> : (Double) maximum timestamp in range</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">minTimeStep</span></code> : (Double) minimum interval between timestamps in range</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">maxTimeStep</span></code> : (Double) maximum interval between timestamps in range</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">meanTime</span></code> : (Double) mean interval between timestamps in range</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">stdTime</span></code> : (Double) standard deviation between timestamps in range (broken)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">name</span></code> : (String) data channel name</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">iname</span></code> : (String) channel instrument name</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">channelID</span></code> : (Integer) Unique channel identifier</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">channeltype</span></code> : (Integer) same as <code class="docutils literal notranslate"><span class="pre">type</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">remarks</span></code> : (String) JSON encoded object with extra information</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">metaid</span></code> : (Integer) Unique data source identifier</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">query</span></code> : (String) SQL query used to collect the data</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">data</span></code> : List 2 element lists of [timestamp, value] inside the requested time range [<strong>startTime</strong>,**endTime**]</div>
</div>
</td>
</tr>
</tbody>
</table>
<p>JSON encoded job object if <code class="docutils literal notranslate"><span class="pre">is_xhr=True</span></code>:</p>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">id</span></code> : (String) unique job identifier</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">type</span></code> : (String) type of request. Should default to “data” in this request</div>
</div>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">data</span></code> : Single channel data</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">expression</span></code> : Data from expression</div>
</div>
</div></blockquote>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="experimental-run-actions">
<h2>Experimental run actions<a class="headerlink" href="#experimental-run-actions" title="Permalink to this headline">¶</a></h2>
<p>This section contains requests that interact with the experimental run lists</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="45%" />
<col width="35%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Resource</th>
<th class="head">Operation</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Create/Edit run list</td>
<td><a class="reference external" href="#post--runs-submitRunlistData">POST /runs/submitRunlistData</a></td>
<td>Create or edit the experimental run list layout</td>
</tr>
<tr class="row-odd"><td>Get most recent run list layout</td>
<td><a class="reference external" href="#post--runs-getRunListInfo">POST /runs/getRunListInfo</a></td>
<td>Get most recent run list layout information</td>
</tr>
<tr class="row-even"><td>Get run list</td>
<td><a class="reference external" href="#post--runs-getRunList">POST /runs/getRunList</a></td>
<td>Get list of experimental runs</td>
</tr>
<tr class="row-odd"><td>Insert run</td>
<td><a class="reference external" href="#post--runs-insertRun">POST /runs/insertRun</a></td>
<td>Insert experimental run</td>
</tr>
</tbody>
</table>
<dl class="post">
<dt id="post--runs-submitRunlistData">
<code class="descname">POST </code><code class="descname">/runs/submitRunlistData</code><a class="headerlink" href="#post--runs-submitRunlistData" title="Permalink to this definition">¶</a></dt>
<dd><p>Create/edit experimental run list layout. Insert/edit experimental parameters and parameter types. This request must send its parameters as a single JSON encoded string and the <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type">content-type</a> header must be supplied as <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types">application/json</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">isNewRunlist : (Boolean) if runlist is new</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Param:</th><td class="field-body"><p class="first">clock : (Integer) creation timestamp</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">runlistType : (Integer) Run list type (unused)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Param:</th><td class="field-body"><p class="first">runlistRemarks : Object containing global runlist information. Contains the following keys:</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">cols</span></code> : List of experimental parameter objects. Experimental parameter objects contain the following keys:</div>
</div>
<blockquote class="last">
<div><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">name</span></code> : (String) name of the parameter</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">type</span></code> : (Integer) type of parameter</div>
</div>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">0</span></code> : Regular parameter</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">3</span></code> : Run Title identifier (optinal declaration)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">4</span></code> : Option parameter</div>
</div>
</div></blockquote>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">parType</span></code> : (Integer - optional) Type of regular parameter (only used if <code class="docutils literal notranslate"><span class="pre">type=1</span></code>)</div>
</div>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">0</span></code> : Number</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">1</span></code> : Text</div>
</div>
</div></blockquote>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">parUnits</span></code> : (Integer - optional) Physical parameter units (only used if <code class="docutils literal notranslate"><span class="pre">type=1</span></code>)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">parOptions</span></code> : (String - optional) JSON encoded string of parameter options (only used if <code class="docutils literal notranslate"><span class="pre">type=1</span></code>)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">action</span></code> : (String) Action to be preformed on parameter</div>
</div>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">add</span></code> : add parameter</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">edit</span></code> : edit parameter</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">delete</span></code> : delete parameter</div>
</div>
</div></blockquote>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--runs-getRunListInfo">
<code class="descname">POST </code><code class="descname">/runs/getRunListInfo</code><a class="headerlink" href="#post--runs-getRunListInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Get relevant information about the existing experimental run list and its parameters</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A JSON encoded object representing a run list layout. Contains the following keys:</p>
<div class="last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">clock</span></code> : (Integer) creation timestamp</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">lastUpdate</span></code> : (Integer) last update timestamp</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">isLinked</span></code> : (Boolean) to link with Google Spreadsheets (unused)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">linkRemarks</span></code> : (String) Google Spreadsheets link information (unused)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">linkType</span></code> : (Integer) Google Spreadsheets link type (unused)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">runlistRemarks</span></code> : List of experimental parameter objects see :py:meth:submitRunlistData for description of object</div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--runs-getRunList">
<code class="descname">POST </code><code class="descname">/runs/getRunList</code><a class="headerlink" href="#post--runs-getRunList" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of experimental run entries</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A JSON encoded list with run objects. Use :py:meth:getRunListInfo to access the individual run parameters. The following keys are always present in each run object:</p>
<div class="last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">start</span></code> : (Integer) run start timestamp</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">end</span></code> : (Integer) run end timestamp</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">run</span></code> : (String) run defined encoded in the “run.stage” encoding (run 101 stage 2 is encoded “101.02”)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">comments</span></code> : (String) JSON encoded list of run comment objects see :py:meth:insertRun for definition of this object</div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--runs-insertRun">
<code class="descname">POST </code><code class="descname">/runs/insertRun</code><a class="headerlink" href="#post--runs-insertRun" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert/edit experimental run entries in the supplied DAQBroker database</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">rows : List of run objects. A run object has the following information</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">action</span></code> : (String) action to be  preformed on the run</div>
</div>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">addActive</span></code> : Create a new run and set to active status</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">delete</span></code> : Delete run</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">inactive</span></code> : Change a run to inactive status</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">change</span></code> : Edit a run</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">addComment</span></code> : Add a run comment</div>
</div>
</div></blockquote>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">run</span></code> : Object containing the run parameters and information. Use :py:meth:getRunListInfo to access each individual parameter. The exra run information, common to every database is the following</div>
</div>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">run</span></code> : (String) run defined encoded in the “run.stage” encoding (run 101 stage 2 is encoded “101.02”)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">comments</span></code> : (String) list of comment objects specific to a run. A common object contains the following attributes:</div>
</div>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">author</span></code> : (String) comment author name</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">time</span></code> : (Integer) timestamp of comment</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">comment</span></code> : (String) the comment</div>
</div>
</div></blockquote>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">author</span></code> : (String - optional) comment author (to send only if action=``addComment``)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">date</span></code> : (Integer - optional) comment timestamp(to send only if action=``addComment``)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">comment</span></code> : (String - optional) comment (to send only if action=``addComment``)</div>
</div>
</div></blockquote>
<div class="last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">action</span></code> : Action to be  preformed on the run</div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="network-actions">
<h2>Network actions<a class="headerlink" href="#network-actions" title="Permalink to this headline">¶</a></h2>
<p>This section contains requests that interact with the server’s network nodes</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="45%" />
<col width="35%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Resource</th>
<th class="head">Operation</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&#160;</td>
<td><a class="reference external" href="#post--monitoring-daqbroker-gatherNodeData">POST /monitoring/daqbroker/gatherNodeData</a></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference external" href="#get--monitoring-daqbroker-gatherNodeData">GET /monitoring/daqbroker/gatherNodeData</a></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>Get node list</td>
<td><a class="reference external" href="#post--monitoring-queryNodes">POST /monitoring/queryNodes</a></td>
<td>Get list of active remote DAQBroker clients</td>
</tr>
<tr class="row-odd"><td>Get nodes to setup</td>
<td><a class="reference external" href="#post--monitoring-getNodes">POST /monitoring/getNodes</a></td>
<td>List local nodes still to setup</td>
</tr>
<tr class="row-even"><td>Setup client node</td>
<td><a class="reference external" href="#post--monitoring-testNode">POST /monitoring/testNode</a></td>
<td>Setup a DAQBroker client network node</td>
</tr>
<tr class="row-odd"><td>Toggle node synchronization</td>
<td><a class="reference external" href="#post--monitoring-toggleNodeSync">POST /monitoring/toggleNodeSync</a></td>
<td>Toggle node software synchronization flag</td>
</tr>
</tbody>
</table>
<dl class="post">
<dt id="post--monitoring-daqbroker-gatherNodeData">
<code class="descname">POST </code><code class="descname">/monitoring/daqbroker/gatherNodeData</code><a class="headerlink" href="#post--monitoring-daqbroker-gatherNodeData" title="Permalink to this definition">¶</a></dt>
<dd><p>Gathers general purpose information from a supplied node</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>type</strong> – <p>(Integer) type of request</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">1</span></code> : Network port data request</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">2</span></code> : Serial port data request</div>
</div>
</li>
<li><strong>order</strong> – <p>(String) type of request. Required when <strong>type=2</strong></p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">getPorts</span></code> : Get serial port list</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">getPortData</span></code> : Get data from specific port</div>
</div>
</li>
<li><strong>remarks</strong> – (string) JSON encoded string with relevant extra information. Required when <strong>type=2</strong> and <strong>order=’getPortData’</strong></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="get">
<dt id="get--monitoring-daqbroker-gatherNodeData">
<code class="descname">GET </code><code class="descname">/monitoring/daqbroker/gatherNodeData</code><a class="headerlink" href="#get--monitoring-daqbroker-gatherNodeData" title="Permalink to this definition">¶</a></dt>
<dd><p>Gathers general purpose information from a supplied node</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>type</strong> – <p>(Integer) type of request</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">1</span></code> : Network port data request</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">2</span></code> : Serial port data request</div>
</div>
</li>
<li><strong>order</strong> – <p>(String) type of request. Required when <strong>type=2</strong></p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">getPorts</span></code> : Get serial port list</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">getPortData</span></code> : Get data from specific port</div>
</div>
</li>
<li><strong>remarks</strong> – (string) JSON encoded string with relevant extra information. Required when <strong>type=2</strong> and <strong>order=’getPortData’</strong></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--monitoring-toggleNodeSync">
<code class="descname">POST </code><code class="descname">/monitoring/toggleNodeSync</code><a class="headerlink" href="#post--monitoring-toggleNodeSync" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggles the node’s automated software time synchronization routine. If turned on, the server will provide a node with a specific time server to issue synchronization requests</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body">nodeName : (String) Unique node identifier</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--monitoring-queryNodes">
<code class="descname">POST </code><code class="descname">/monitoring/queryNodes</code><a class="headerlink" href="#post--monitoring-queryNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the list of local active network DAQBroker clients</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">nodeName : (String) unique identifier sting of a node</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSON encoded object of requested node if <strong>nodeName</strong> is specified. List of existing nodes if not. A node is an object with the following attributes</p>
<div class="last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">node</span></code> : (String) unique node identifier</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">name</span></code> : (String) visible name of node</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">address</span></code> : (String) network address as seen from the server application</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">port</span></code> : (Integer) remote communications port</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">active</span></code> : (Boolean) flagged for monitoring</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">lastActive</span></code> : (Integer) last activity timestamp</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">tsyncauto</span></code> : (Boolean) flagged for software synchronization</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">remarks</span></code> : (String) Extra health information</div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--monitoring-testNode">
<code class="descname">POST </code><code class="descname">/monitoring/testNode</code><a class="headerlink" href="#post--monitoring-testNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempt to contact a DAQBroker client machine, validate its sharing link and adding the node to the monitoring link</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body">id: (String) unique node identifier</td>
</tr>
<tr class="field-even field"><th class="field-name">Param:</th><td class="field-body">shareStr: (String) share string generated by the client application</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--monitoring-getNodes">
<code class="descname">POST </code><code class="descname">/monitoring/getNodes</code><a class="headerlink" href="#post--monitoring-getNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of existing local area DAQBroker clients not connected to the machine</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">List of node objects that require connection to the machine</p>
<div class="last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">id</span></code> : (String) unique node identifier</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">node</span></code> : (String) visible name of node</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">address</span></code> : (String) network address as seen from the server application</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">serverAddr</span></code> : (String) server application address as seen from the node</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">port</span></code> : (Integer) remote communications port</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">details</span></code> : (String) Extra health information</div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="administrator-actions">
<h2>Administrator actions<a class="headerlink" href="#administrator-actions" title="Permalink to this headline">¶</a></h2>
<p>This section contains requests that preform administrative tasks</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="45%" />
<col width="35%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Resource</th>
<th class="head">Operation</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Act on DAQBroker processes</td>
<td><a class="reference external" href="#post--admin-actProcess">POST /admin/actProcess</a></td>
<td>Preform actions on available DAQBroker processes</td>
</tr>
<tr class="row-odd"><td>Create databases</td>
<td><a class="reference external" href="#post--admin-createDatabase">POST /admin/createDatabase</a></td>
<td>Create a new DAQBroker databases</td>
</tr>
<tr class="row-even"><td>Create global settings</td>
<td><a class="reference external" href="#post--admin-setupSettings">POST /admin/setupSettings</a></td>
<td>create global DAQBroker settings database</td>
</tr>
<tr class="row-odd"><td>Create/Edit user account</td>
<td><a class="reference external" href="#post--admin-submitUserData">POST /admin/submitUserData</a></td>
<td>Create or edit a DAQBroker user account</td>
</tr>
<tr class="row-even"><td>Delete database</td>
<td><a class="reference external" href="#post--admin-deleteDatabase">POST /admin/deleteDatabase</a></td>
<td>Deletes a DAQBroker database</td>
</tr>
<tr class="row-odd"><td>Delete user</td>
<td><a class="reference external" href="#post--admin-deleteUser">POST /admin/deleteUser</a></td>
<td>Delete a DAQBroker user</td>
</tr>
<tr class="row-even"><td>Get local settings</td>
<td><a class="reference external" href="#post--admin-queryGlobals">POST /admin/queryGlobals</a></td>
<td>Get local server settings</td>
</tr>
<tr class="row-odd"><td>Get/Set NTP servers</td>
<td><a class="reference external" href="#post--admin-checkNTPServers">POST /admin/checkNTPServers</a></td>
<td>Get/Set NTP servers</td>
</tr>
<tr class="row-even"><td>Get/Set folders</td>
<td><a class="reference external" href="#post--admin-checkFolders">POST /admin/checkFolders</a></td>
<td>Get/Set usable server folders</td>
</tr>
<tr class="row-odd"><td>Get/Set ports</td>
<td><a class="reference external" href="#post--admin-setPorts">POST /admin/setPorts</a></td>
<td>Get/Set DAQBroker network ports</td>
</tr>
<tr class="row-even"><td>List users</td>
<td><a class="reference external" href="#post--admin-checkUsers">POST /admin/checkUsers</a></td>
<td>List of server DAQBroker users</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference external" href="#post--admin-queryUsers">POST /admin/queryUsers</a></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>Toggle database status</td>
<td><a class="reference external" href="#post--admin-toggleDatabase">POST /admin/toggleDatabase</a></td>
<td>Toggle DAQBroker database monitoring status</td>
</tr>
<tr class="row-odd"><td>Toggle server monitoring process</td>
<td><a class="reference external" href="#post--admin-toggleMonitoring">POST /admin/toggleMonitoring</a></td>
<td>Toggle server monitoring process</td>
</tr>
</tbody>
</table>
<dl class="post">
<dt id="post--admin-toggleMonitoring">
<code class="descname">POST </code><code class="descname">/admin/toggleMonitoring</code><a class="headerlink" href="#post--admin-toggleMonitoring" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggle the database monitoring loop of a supplied DAQBroker database. See PLACEHOLDER for more information about the server monitoring process</p>
</dd></dl>

<dl class="post">
<dt id="post--admin-checkNTPServers">
<code class="descname">POST </code><code class="descname">/admin/checkNTPServers</code><a class="headerlink" href="#post--admin-checkNTPServers" title="Permalink to this definition">¶</a></dt>
<dd><p>Set or get the NTP servers used for software synchronization by DAQBroker</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>addServer</strong> – string containing the address of the NTP server to add/update to the list of available servers</li>
<li><strong>setServer</strong> – string containing the address of the NTP server to set as the synchronization server</li>
<li><strong>port</strong> – Integer containing the port of the NTP server</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">If <strong>addServer</strong> and <strong>setServer</strong> are not provided, returns a JSON encoded string of a list of available NTP servers. Each object in the list contains the following keys:</p>
<div class="last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">address</span></code> : string containing the address of the NTP server</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">port</span></code> : integer containing the NTP network port</div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--admin-submitUserData">
<code class="descname">POST </code><code class="descname">/admin/submitUserData</code><a class="headerlink" href="#post--admin-submitUserData" title="Permalink to this definition">¶</a></dt>
<dd><p>Create/Edit a DAQBroker user account. Only system administrators are allowed to create new users.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">newUser : (Boolean) Tests to insert or edit an existing user</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Param:</th><td class="field-body"><p class="first">newName : (String) New username to change/add</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first">oldName : (String) Old username. To use with True <strong>newUser</strong></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Param:</th><td class="field-body"><p class="first">userType : (Integer) User type to change/add</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">0</span></code> : Adminstrator</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">1</span></code> : Operator</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">2</span></code> : User</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">3</span></code> : Guest</div>
</div>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body"><p class="first last">newPassword : (String) User password to change/add</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--admin-createDatabase">
<code class="descname">POST </code><code class="descname">/admin/createDatabase</code><a class="headerlink" href="#post--admin-createDatabase" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new DAQBroker database</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body">newName : (String) new database name</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--admin-deleteDatabase">
<code class="descname">POST </code><code class="descname">/admin/deleteDatabase</code><a class="headerlink" href="#post--admin-deleteDatabase" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete an existing DAQBroker database in the supplied database engine</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body">dbname : (String) database name</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--admin-toggleDatabase">
<code class="descname">POST </code><code class="descname">/admin/toggleDatabase</code><a class="headerlink" href="#post--admin-toggleDatabase" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggle the active state of an existing DAQBroker database. When active, databases will have their instruments monitored for new data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body">dbname : (String) database name</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--admin-setupSettings">
<code class="descname">POST </code><code class="descname">/admin/setupSettings</code><a class="headerlink" href="#post--admin-setupSettings" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a global settings DAQBroker database on a supplied database server</p>
</dd></dl>

<dl class="post">
<dt id="post--admin-queryGlobals">
<code class="descname">POST </code><code class="descname">/admin/queryGlobals</code><a class="headerlink" href="#post--admin-queryGlobals" title="Permalink to this definition">¶</a></dt>
<dd><p>Query local machine storage for settings</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSON encoded string containing local machine settings. This is an object with the following keys:</p>
<div class="last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">clock</span></code> : Timestamp of last alteration to settings</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">version</span></code> : Version of the server application being used</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">backupfolder</span></code> : Backup folder</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">importfolder</span></code> : Imports folder</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">tempfolder</span></code> : Temporary file folder</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">ntp</span></code> : NTP server used for software synchronization</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">logport</span></code> : Network port for logging server</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">commport</span></code> : Network port for communication</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">remarks</span></code> : JSON encoded string containing machine health information</div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--admin-checkFolders">
<code class="descname">POST </code><code class="descname">/admin/checkFolders</code><a class="headerlink" href="#post--admin-checkFolders" title="Permalink to this definition">¶</a></dt>
<dd><p>Get or set the folders available to use as backup, import or temporary folder</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>addFolder</strong> – String containing the folder to be added to the list of available folders</li>
<li><strong>setFolder</strong> – String containing the folder to be set as a specific type of folder</li>
<li><strong>(optional)</strong> (<em>folderChange</em>) – An integer defining the path to be set. Can be set to 0 (backup), 1 (import) or 2 (temp). If not supplied, no folder is changed</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">If <strong>folderChange</strong> and <strong>addFolder</strong> are not provided, returns a JSON encoded string of a list of available folders. Each object in the list contains the following keys:</p>
<div class="last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">path</span></code> : string containing the address of the NTP server</div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--admin-actProcess">
<code class="descname">POST </code><code class="descname">/admin/actProcess</code><a class="headerlink" href="#post--admin-actProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Request to start or stop database monitoring processes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>procName</strong> – <p>(String) DAQBroker subprocess to be acted on</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">Backup</span></code> : Backup server process</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">Logger</span></code> : Event logging process</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">Collector</span></code> : Communication process</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">Producer</span></code> : Database monitoring process</div>
</div>
</li>
<li><strong>action</strong> – <p>(String) action to be preformed on <strong>procName</strong></p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">add</span></code> : Start (if not already)</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">remove</span></code> : Stop (if not already)</div>
</div>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSON string containing the following keys:</p>
<div class="last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">alive</span></code> : Boolean value defining whether the process is alive or not</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">name</span></code> : Name of the process, same as <strong>procName</strong></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--admin-checkUsers">
<code class="descname">POST </code><code class="descname">/admin/checkUsers</code><a class="headerlink" href="#post--admin-checkUsers" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of available DAQBroker users</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSON list of user objects. A user object has the following attributes</p>
<div class="last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">username</span></code> : (String) user name</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">type</span></code> : (String) type of user. Visit PLACEHOLDER for definition of user types</div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--admin-queryUsers">
<code class="descname">POST </code><code class="descname">/admin/queryUsers</code><a class="headerlink" href="#post--admin-queryUsers" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of available DAQBroker users</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">JSON list of user objects. A user object has the following attributes</p>
<div class="last line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">username</span></code> : (String) user name</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">type</span></code> : (String) type of user. Visit PLACEHOLDER for definition of user types</div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--admin-deleteUser">
<code class="descname">POST </code><code class="descname">/admin/deleteUser</code><a class="headerlink" href="#post--admin-deleteUser" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete an existing DAQBroker user</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body">userToDelete : (String) Name of user to delete</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="post">
<dt id="post--admin-setPorts">
<code class="descname">POST </code><code class="descname">/admin/setPorts</code><a class="headerlink" href="#post--admin-setPorts" title="Permalink to this definition">¶</a></dt>
<dd><p>Request to alter DAQBroker’s network ports</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>commport</strong> – Integer containing the requested port of the communications port</li>
<li><strong>logport</strong> – Integer containing the requested port of the log port</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<span class="target" id="javascript"></span></div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="webapi3.html" class="btn btn-neutral float-right" title="Interface Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="webapi1.html" class="btn btn-neutral" title="Usage Examples" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, &lt;a href=&#34;https://daqbroker.com&#34;&gt;DAQBroker&lt;/a&gt;.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>